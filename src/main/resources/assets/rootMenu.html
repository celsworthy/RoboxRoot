<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
        <title>Robox Root Manager</title>
        <link rel="shortcut icon" href="favicon.ico">
        <link rel="stylesheet" href="css/themes/Root.css" />
        <link rel="stylesheet" href="css/themes/jquery.mobile.icons.min.css" />
        <link rel="stylesheet" href="css/themes/default/jquery.mobile-1.4.5.min.css">
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700">
        <link rel="stylesheet" href="css/robox-root.css">
        <script src="js/jquery-2.2.4.min.js"></script>
        <script src="js/jquery.mobile-1.4.5.min.js"></script>
        <script src="js/jquery.base64.js"></script>
        <script src="js/i18next.min.js"></script>
        <script src="js/i18nextXHRBackend.min.js"></script>
        <script src="js/jquery-i18next.min.js"></script>

        <script src="js/core.js"></script>
        <script src="js/root.js"></script>
        <style id="inset-tablist">
            .tablist-left {
                width: 60%;
                display: inline-block;
            }
            .tablist-content {
                width: 40%;
                display: inline-block;
                vertical-align: top;
                margin-left: 5%;
            }
        </style>
    </head>

    <body>

        <div data-role="page" id="printer-status-page" style="padding-bottom: 63px;" class="robox-root">
            <div role="banner" data-role="header" data-position="fixed" class="header-banner jqm-header ui-bar-inherit">
                <img class="align-right" src="/css/themes/default/images/RootLogo.png" alt="Robox" style="padding:5px;"/>
                <img src="/css/themes/default/images/RoboxLogo.png" alt="Robox" style="padding:5px;"/>
            </div>
            <div class="ui-panel-wrapper">
                <div style="text-align: center;" class="ui-bar ui-bar-a">
                    <h2>Printer Status - <span class="server-name-title">Server Name</span></h2>
                </div>
                <div role="main" class="ui-content">
                    <table id="printer-status" data-role="table" data-mode="columntoggle" class="status-table ui-responsive ui-shadow gk-decorate table-stroke" data-column-btn-mini='true' data-column-btn-text='Columns to Display'>
                        <thead>
                            <tr>
                                <th width="100px">Name</th>
                                <th width="80px">Status</th>
                                <th>ETC</th>
                                <th>Job</th>
                                <th data-priority="3">Material 1</th>
                                <th data-priority="3">Material 2</th>
                            </tr>
                        </thead>
                        <tbody id="printer-status-body">
                        </tbody>
                    </table>
                    <a href="#printer-details-panel">Details</a>
                </div>
            </div>
            <div data-role="panel" id="printer-details-panel">
                <table>
                    <thead>
                        <tr>
                            <th width="100px"></th>
                            <th width="200px"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <!--                        <tr id='_etcRow'>
                                                    <th class="detail-title">Estimated Time to Complete Print</th>
                                                    <td class="detail-data" id='_etcDisplay'>?</td>
                                                </tr>-->
                        <tr>
                            <th class="detail-title">Name</th>
                            <td class="detail-data" id='_nameDisplay'>?</td>
                        </tr>
                        <tr>
                            <th class="detail-title">Head</th>
                            <td class="detail-data" id='_headNameDisplay'>?</td>
                        </tr>
                        <tr >
                            <th class="detail-title">Material 1</th>
                            <td class="detail-data" id='_materialDisplay1'></td>
                        </tr>
                        <tr>
                            <th class="detail-title">Material 2</th>
                            <td class="detail-data" id='_materialDisplay2'></td>
                        </tr>
                    </tbody>
                </table>
                <table>
                    <thead>
                        <tr>
                            <th class="_nozzleTemperature1 detail-title" width="100px">Nozzle 1</th>
                            <th class="_nozzleTemperature2 detail-title" width="100px">Nozzle 2</th>
                            <th class="detail-title" width="100px">Bed</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="_nozzleTemperature1 detail-data" id='_nozzleTemperatureDisplay1'></td>
                            <td class="_nozzleTemperature2 detail-data" id='_nozzleTemperatureDisplay2'></td>
                            <td class="detail-data" id='_bedTemperatureDisplay'></td>
                        </tr>
                    </tbody>
                </table>
                <hr>
                <div style="display: flex; padding-bottom: 5px;">
                    <button id="printer-control-eject-1" class="ui-btn ui-btn-inline ui-mini centre-button" onclick="eject(1)">Eject Material 1</button>
                    <button id="printer-control-eject-2" class="ui-btn ui-btn-inline ui-mini centre-button" onclick="eject(2)">Eject Material 2</button>
                </div>
                <div style="display: flex; padding-bottom: 5px;">
                    <button id="printer-control-pause" class="ui-btn ui-btn-inline ui-mini centre-button" onclick="pausePrint()">Pause</button>
                    <button id="printer-control-resume" class="ui-btn ui-btn-inline ui-mini centre-button" onclick="resumePrint()">Resume</button>
                    <button id="printer-control-cancel" class="ui-btn ui-btn-inline ui-mini centre-button" onclick="resumePrint()">Cancel</button>
                </div>
                <div style="display: flex;">
                    <button id="printer-control-open-door" class="ui-btn ui-btn-inline ui-mini centre-button" onclick="openDoor()">Open Door</button>
                    <button id="printer-control-remove-head" class="ui-btn ui-btn-inline ui-mini centre-button" onclick="removeHead()">Remove Head</button>
                </div>
                <form id="fileUpload" enctype="multipart/form-data" class="ui-btn ui-btn-inline ui-mini">
                    <input type="submit" value="Send GCode to printer">
                    <input id="fileInput" type="file" name="file" required/>
                </form>
            </div>

            <div class="jqm-footer ui-footer ui-bar-inherit ui-footer-fixed slideup">
                <div class="ui-grid-b" style="height:50px">
                    <div class="ui-block-a footer"><span>Root Manager </span><span class="jqm-version">0.1</span></div>
                    <div class="ui-block-b footer"><span><a href="#printer-status-page" class="ui-btn ui-icon-home ui-btn-icon-notext ui-corner-all">No text</a></span><span><a href="#server-status-page" class="ui-btn ui-icon-gear ui-btn-icon-notext ui-corner-all">No text</a></span></div>
                    <div class="ui-block-c footer"><span class="numberOfPrintersDisplay"></span></div>
                </div>
            </div>
        </div>

        <div data-role="page" id="server-status-page" style="padding-bottom: 63px;" class="robox-root ui-page ui-page-theme-a ui-page-footer-fixed" data-quicklinks="true">

            <div role="banner" data-role="header" data-position="fixed" class="header-banner jqm-header ui-bar-inherit">
                <img class="align-right" src="/css/themes/default/images/RootLogo.png" alt="Robox" style="padding:5px;"/>
                <img src="/css/themes/default/images/RoboxLogo.png" alt="Robox" style="padding:5px;"/>
            </div>

            <div class="ui-corner-all custom-corners">
                <div style="text-align: center;" class="ui-bar ui-bar-a">
                    <h2>Admin - <span class="server-name-title">Server Name</span></h2>
                </div>
                <div class="ui-body ui-body-a">
                    <div data-role="tabs">
                        <div data-role="navbar">
                            <ul>
                                <li><a href="#fragment-1" class="ui-btn-active">Identity</a></li>
                                <li><a href="#fragment-2">Network</a></li>
                                <li><a href="#fragment-3">Upgrade</a></li>
                            </ul>
                        </div>
                        <div id="fragment-1">
                            <p id="serverOnline">Server...</p>
                            <p id="serverVersion">Server version:</p>

                            <hr>
                            <div class="inline-block">
                                Name:
                            </div>
                            <div class="inline-block">
                                <input type="text" data-mini="true" id="server-name-input" class="server-name-entry" />
                            </div>
                            <div class="inline-block">
                                <button class="ui-btn ui-btn-inline" onClick="javascript:rootRename()">Update</button>
                            </div>
                            <hr>
                            <div class="inline-block">
                                PIN:
                            </div>
                            <div class="inline-block">
                                <input type="text" data-mini="true" id="pin-update-value" />
                            </div>
                            <div class="inline-block">
                                <button class="ui-btn ui-btn-inline" onClick="javascript:updatePIN()">Update</button>
                            </div>
                            <hr>
                            <fieldset>
                                <div data-role="fieldcontain">
                                    <label for="safeties-switch" style="display: inline; width: auto;">Safety features enabled:</label>
                                    <input data-role="flipswitch" id="safeties-switch" data-on-text="Yes" data-off-text="No" type="checkbox"/>
                                </div>
                            </fieldset>
                            <hr>
                            <form>
                                <div class="ui-field-contain">
                                    <label for="language-selector" id="language-label" data-i18n="language">LanguageLabel:</label>
                                    <select name="language-selector" id="language-selector" data-mini="true">
                                        <option value="en">English</option>
                                        <option value="fr">Français</option>
                                    </select>
                                </div>
                            </form>
                        </div>
                        <div id="fragment-2">
                            <p><span>IP Address: </span><span class="server-ip-address"></span></p>
                            <fieldset>
                                <div data-role="fieldcontain">
                                    <label for="wifi-enabled-switch" style="display: inline; width: auto;">Wifi:</label>
                                    <select name="toggle" id="wifi-enabled-switch" data-role="slider">
                                        <option value="false">Off</option>                                        
                                        <option value="true">On</option>                                        
                                    </select>
                                </div>
                            </fieldset>

                            <hr>
                            <div id="wifi-data-block">
                                <div class="inline-block">
                                    SSID:
                                </div>
                                <div class="inline-block">
                                    <input type="text" id="wifi-ssid">
                                </div>
                                <div>
                                    <div class="inline-block">
                                        Password:
                                    </div>
                                    <div class="inline-block">
                                        <input type="password" id="wifi-password">
                                    </div>
                                </div>
                                <button class="ui-btn" onClick="javascript:setWiFiCredentials()">Update WiFi settings</button>
                                <hr>
                            </div>
                        </div>
                        <div id="fragment-3">
                            <form style="display: inline-flex;" id="rootUpgrade" method="POST" enctype="multipart/form-data" action="javascript:rootUpgrade();">
                                <input type="submit" value="Upgrade Root" />
                                <input id="rootUpgradeFile" type="file" name="file" required/>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="jqm-footer ui-footer ui-bar-inherit ui-footer-fixed slideup">
                <div class="ui-grid-b" style="height:50px">
                    <div class="ui-block-a footer"><span>Root Manager </span><span class="jqm-version">0.1</span></div>
                    <div class="ui-block-b footer"><span><a href="#printer-status-page" class="ui-btn ui-icon-home ui-btn-icon-notext ui-corner-all">No text</a></span><span><a href="#server-status-page" class="ui-btn ui-icon-gear ui-btn-icon-notext ui-corner-all">No text</a></span></div>
                    <div class="ui-block-c footer"><span class="numberOfPrintersDisplay"></span></div>
                </div>
            </div>
        </div>
    </body>
</html>
