<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" href="../../favicon.ico">

        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700">
        <link href="css/grid.css" rel="stylesheet">
        <link href="css/sticky-header.css" rel="stylesheet">
        <link href="css/sticky-footer.css" rel="stylesheet">
        <link rel="stylesheet" href="css/robox-root.css">
        <script src="js/jquery-2.2.4.min.js"></script>
        <script src="js/i18next.min.js"></script>
        <script src="js/i18nextBrowserLanguageDetector.min.js"></script>
        <script src="js/i18nextXHRBackend.min.js"></script>
        <script src="js/jquery-i18next.min.js"></script>
        <script src="js/jquery.base64.js"></script>
        <script src="js/printerDetails.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/bootstrap-colorselector.min.js"></script>
        <script src="js/eModal.min.js"></script>
        <script src="js/core.js"></script> 

        <title>Robox Root Manager</title>

        <!-- Bootstrap core CSS -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/bootstrap-colorselector.min.css" rel="stylesheet">
        <!-- Bootstrap theme -->
        <link href="css/bootstrap-theme.min.css" rel="stylesheet">
        <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
        <link href="css/ie10-viewport-bug-workaround.css" rel="stylesheet">

        <!-- Custom styles for this template -->
        <!--<link href="css/theme.css" rel="stylesheet">-->

        <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
        <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
        <script src="js/ie-emulation-modes-warning.js"></script>

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>

    <body>
        <script type="text/javascript">var titlei18n = "reprint";</script>
		<div class="container-fluid">
            <h3 class="localised" data-i18n="reprint"><i class="fa fa-bar-chart-o"></i>Reprint</h3>
            <h4 class="localised" data-i18n="reprint-subtitle"><i class="fa fa-bar-chart-o"></i></h4>
			<table class="table">
				<thead class="thead-default">
					<tr>
						<th height="50px" width="140px" class="localised h4" data-i18n="name">Name</th>
						<th height="50px" width="130px" class="localised h4" data-i18n="created">Created</th>
						<th height="50px" width="60px" class="localised h4" data-i18n="duration">Duration</th>
					</tr>
				</thead>
				<tbody id="reprint-table-body">
				</tbody>
			</table>
		</div>
		<script type="text/javascript">
			sendPostCommandToRoot(localStorage.getItem(selectedPrinterVar) + "/remoteControl/listReprintableJobs",
				function (suitablePrintJobs) {
					var selectorHTML = "";
					for (var printJobIndex = 0; printJobIndex < suitablePrintJobs.length; printJobIndex++)
					{
						var printJobID = suitablePrintJobs[printJobIndex].printJobID;
						console.log(suitablePrintJobs[printJobIndex].printJobID);
						console.log(suitablePrintJobs[printJobIndex].printJobName);
						console.log(suitablePrintJobs[printJobIndex].printProfileName);
						console.log(suitablePrintJobs[printJobIndex].durationInSeconds);
						console.log(suitablePrintJobs[printJobIndex].eVolume);
						console.log(suitablePrintJobs[printJobIndex].dVolume);
						selectorHTML += "<tr id=\"" + printJobID + "_row" + "\">";
						selectorHTML += "<td>" + suitablePrintJobs[printJobIndex].printJobName + "</td>";
						selectorHTML += "<td>" + suitablePrintJobs[printJobIndex].creationDate + "</td>";
						selectorHTML += "<td>" + secondsToHMS(suitablePrintJobs[printJobIndex].durationInSeconds) + "</td>";
						selectorHTML += "</tr>\n";

						$("#reprint-table-body").html(selectorHTML);
					}
					for (var printJobIndex = 0; printJobIndex < suitablePrintJobs.length; printJobIndex++)
					{
						var printJobID = suitablePrintJobs[printJobIndex].printJobID;
						$('#' + printJobID + "_row").data("printJobID", printJobID);
						$('#' + printJobID + "_row").click(function () {
							$('#reprint-dialog').modal('hide');
							reprintJob($(this).data("printJobID"));
						});

						$('#' + printJobID + "_row").hover(function () {
							$(this).addClass('selector-highlight');
						}, function () {
							$(this).removeClass('selector-highlight');
						});
						$('#' + printJobID + "_row").mousedown(function () {
							$(this).addClass('selector-press');
						}, function () {
							$(this).removeClass('selector-press');
						});
					}
				},
				null, null);
		</script>
		<script type='text/javascript' src='js/footer.js'></script>
    </body>
</html>